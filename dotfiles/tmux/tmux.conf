### Start with zsh as default shell
set-option -g default-command "`which zsh`"

### remap prefix from 'C-b' to 'C-a'
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

### Start window numbering at 1
set -g base-index 1

### Automatically re-number windows after one of them is closed.
set -g renumber-windows on

### the scrollback history limit to make
set -g history-limit 30000

### Allow use of the mouse with all functionality
set -g mouse on

### Vertical and horizontal split and stay in the same location
bind-key v split-window -h -c "#{pane_current_path}"
bind-key h split-window -v -c "#{pane_current_path}"

### Use Alt-arrow keys without prefix key to switch panes
bind -n M-Left select-pane -L
bind -n M-Right select-pane -R
bind -n M-Up select-pane -U
bind -n M-Down select-pane -D

### Shift arrow to switch windows
bind -n S-Left  previous-window
bind -n S-Right next-window

### Resize panes
bind - resize-pane -R 15
bind + resize-pane -L 15

### Don't rename windows automatically
set-option -g allow-rename off

### Faster renaming. No need to first erase the original name.
bind , command-prompt -p "(rename-window '#W')" "rename-window '%%'"
bind '$' command-prompt -p "(rename-session '#S')" "rename-session '%%'"


# Paste into tmux via x clipboard
bind C-v run "xclip -o | tmux load-buffer - ; tmux paste-buffer" \; display "Pasted from clipboard."

# Copy from tmux buffer into x clipboard for external use
bind C-c run "tmux save-buffer - | xclip -selection clipboard > /dev/null"  \; display "Copied to clipboard."



### Reload changes in tmux, handy
bind-key r source-file ~/.tmux.conf \; display "Configuration reloaded."




###############################################################################
##################################   THEME   ##################################
###############################################################################
# Powerline Cyan Block - Tmux Theme
# Credit to: Jim Myhrberg <contact@jimeh.me>.
# Requires terminal to be using a powerline compatible font, find one here:
# https://github.com/Lokaltog/powerline-fonts

# Status update interval
set -g status-interval 1

# Basic status bar colors
set -g status-fg colour240
set -g status-bg colour233

# Left side of status bar
set -g status-left-bg colour233
set -g status-left-fg colour243
set -g status-left-length 40
set -g status-left "#{?client_prefix,#[fg=colour2]Prefix mode ^A || ,} #[fg=colour232,bg=colour39,bold] #S #[fg=colour39,bg=colour240,nobold]#[fg=colour233,bg=colour240] #(whoami) #[fg=colour240,bg=colour235]#[fg=colour240,bg=colour235] #I:#P #[fg=colour235,bg=colour233,nobold]"

# Right side of status bar
set -g status-right-bg colour233
set -g status-right-fg colour243
set -g status-right-length 150
set -g status-right "#[fg=colour235,bg=colour233]#[fg=colour240,bg=colour235] %H:%M:%S #[fg=colour240,bg=colour235]#[fg=colour233,bg=colour240] %d-%b-%y #[fg=colour245,bg=colour240]#[fg=colour232,bg=colour245,bold] #H "

# Window status
set -g window-status-format " #I:#W#F "
set -g window-status-current-format " #I:#W#F "

# Current window status
set -g window-status-current-bg colour39
set -g window-status-current-fg colour232

# Window with activity status
set -g window-status-activity-bg colour75 # fg and bg are flipped here due to
set -g window-status-activity-fg colour233 # a bug in tmux

# Window separator
set -g window-status-separator ""

# Window status alignment
set -g status-justify centre

# Pane border
set -g pane-border-bg default
set -g pane-border-fg colour238

# Active pane border
set -g pane-active-border-bg default
set -g pane-active-border-fg colour39

# Pane number indicator
set -g display-panes-colour colour233
set -g display-panes-active-colour colour245

# Clock mode
set -g clock-mode-colour colour39
set -g clock-mode-style 24

# Message
set -g message-bg colour39
set -g message-fg black

# Command message
set -g message-command-bg colour233
set -g message-command-fg black

# Mode
set -g mode-bg colour39
set -g mode-fg colour232
